<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠçŸ¥ã‚‰ã› | ãƒ¯ã‚¤ã‚µãƒ - SommiaãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¯ã‚¤ãƒ³ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ </title>
    <link rel="icon" href="../assets/images/favicon.ico">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components/buttons.css">
    <link rel="stylesheet" href="../css/components/ai_chat.css">
    <link rel="stylesheet" href="../css/components/cards.css">
    <link rel="stylesheet" href="../css/components/tables.css">
    <!-- çµ±ä¸€ã•ã‚ŒãŸJavaScriptèª­ã¿è¾¼ã¿ -->
    <script src="../js/unified_loader.js"></script>
    <script>
        console.log('ğŸ“„ é€šçŸ¥ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿é–‹å§‹');
        
        const additionalScripts = [
            'js/components/notifications.js'
        ];
        
        initializeWineSupportPage('..', additionalScripts);
    </script>
    <link rel="stylesheet" href="../css/components/notifications.css">
</head>
<body>

    
    <main>
        <div class="container">
            <div class="page-header">
                <h1>ãŠçŸ¥ã‚‰ã›</h1>
            </div>
            
            <div class="ai-message-container">
                <div id="ai-message-area" class="ai-message">
                    <!-- AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                    <img src="../sommia.png" alt="Sommia - ã‚½ãƒ ãƒªã‚¨AI" class="ai-avatar-small">
                    <span class="ai-text">æœ€æ–°ã®ãŠçŸ¥ã‚‰ã›ã‚’ã”ç¢ºèªãã ã•ã„ã€‚é‡è¦ãªã‚·ã‚¹ãƒ†ãƒ æ›´æ–°ã‚„ãƒ¯ã‚¤ãƒ³æƒ…å ±ã€ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãªã©ã€ãŠå½¹ç«‹ã¡æƒ…å ±ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚ä½•ã‹ã”è³ªå•ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ãŠå°‹ã­ãã ã•ã„ã­ã€‚</span>
                </div>
            </div>
            
            <div class="notifications-container">
                <div class="notifications-filters">
                    <button class="notification-filter active" data-filter="all">ã™ã¹ã¦</button>
                    <button class="notification-filter" data-filter="system">ã‚·ã‚¹ãƒ†ãƒ </button>
                    <button class="notification-filter" data-filter="campaign">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</button>
                    <button class="notification-filter" data-filter="wine-info">ãƒ¯ã‚¤ãƒ³æƒ…å ±</button>
                    <button class="notification-filter" data-filter="event">ã‚¤ãƒ™ãƒ³ãƒˆ</button>
                </div>
                
                <div class="notifications-actions">
                    <button id="mark-all-read" class="btn btn-sm btn-outline-primary">ã™ã¹ã¦æ—¢èª­ã«ã™ã‚‹</button>
                </div>
                
                <div class="notifications-list">
                    <!-- ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ -->
                    <div class="notification-item unread" data-category="system">
                        <div class="notification-icon">ğŸ””</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category system">ã‚·ã‚¹ãƒ†ãƒ </span>
                                <span class="notification-time">2025/05/22 10:30</span>
                            </div>
                            <div class="notification-title">ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŠçŸ¥ã‚‰ã›</div>
                            <div class="notification-text">5æœˆ25æ—¥ï¼ˆæ—¥ï¼‰åˆå‰2æ™‚ã‹ã‚‰5æ™‚ã¾ã§ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’å®Ÿæ–½ã„ãŸã—ã¾ã™ã€‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚</div>
                        </div>
                    </div>
                    
                    <!-- ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³é€šçŸ¥ -->
                    <div class="notification-item unread" data-category="campaign">
                        <div class="notification-icon">ğŸ‰</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category campaign">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</span>
                                <span class="notification-time">2025/05/21 15:45</span>
                            </div>
                            <div class="notification-title">å¤ã®ãƒ¯ã‚¤ãƒ³ç‰¹åˆ¥ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³é–‹å§‹</div>
                            <div class="notification-text">6æœˆ1æ—¥ã‹ã‚‰7æœˆ31æ—¥ã¾ã§ã€å¤ã«ã´ã£ãŸã‚Šã®ç™½ãƒ¯ã‚¤ãƒ³ã¨ãƒ­ã‚¼ãƒ¯ã‚¤ãƒ³ãŒ10%ã‚ªãƒ•ã§ã”è³¼å…¥ã„ãŸã ã‘ã¾ã™ã€‚ã“ã®æ©Ÿä¼šã«ãœã²ã”åˆ©ç”¨ãã ã•ã„ã€‚</div>
                        </div>
                    </div>
                    
                    <!-- ãƒ¯ã‚¤ãƒ³æƒ…å ±é€šçŸ¥ -->
                    <div class="notification-item" data-category="wine-info">
                        <div class="notification-icon">ğŸ·</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category wine-info">ãƒ¯ã‚¤ãƒ³æƒ…å ±</span>
                                <span class="notification-time">2025/05/20 09:15</span>
                            </div>
                            <div class="notification-title">æ–°ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸ãƒ¯ã‚¤ãƒ³ãŒå…¥è·ã—ã¾ã—ãŸ</div>
                            <div class="notification-text">2022å¹´ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸ã®æ–°ã—ã„ãƒ¯ã‚¤ãƒ³ãŒå…¥è·ã—ã¾ã—ãŸã€‚ç‰¹ã«ãƒœãƒ«ãƒ‰ãƒ¼åœ°æ–¹ã®èµ¤ãƒ¯ã‚¤ãƒ³ã¯é«˜è©•ä¾¡ã‚’å¾—ã¦ãŠã‚Šã€ãŠã™ã™ã‚ã§ã™ã€‚</div>
                        </div>
                    </div>
                    
                    <!-- ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ -->
                    <div class="notification-item" data-category="event">
                        <div class="notification-icon">ğŸ“…</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category event">ã‚¤ãƒ™ãƒ³ãƒˆ</span>
                                <span class="notification-time">2025/05/18 13:20</span>
                            </div>
                            <div class="notification-title">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ¯ã‚¤ãƒ³è©¦é£²ä¼šã®ã”æ¡ˆå†…</div>
                            <div class="notification-text">6æœˆ5æ—¥ï¼ˆæœ¨ï¼‰20æ™‚ã‚ˆã‚Šã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ãƒ¯ã‚¤ãƒ³è©¦é£²ä¼šã‚’é–‹å‚¬ã—ã¾ã™ã€‚ãƒ—ãƒ­ã®ã‚½ãƒ ãƒªã‚¨ãŒå³é¸ã—ãŸãƒ¯ã‚¤ãƒ³ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚å‚åŠ ã‚’ã”å¸Œæœ›ã®æ–¹ã¯ã€ã“ã¡ã‚‰ã‹ã‚‰ãŠç”³ã—è¾¼ã¿ãã ã•ã„ã€‚</div>
                        </div>
                    </div>
                    
                    <!-- ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ -->
                    <div class="notification-item" data-category="system">
                        <div class="notification-icon">ğŸ””</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category system">ã‚·ã‚¹ãƒ†ãƒ </span>
                                <span class="notification-time">2025/05/15 11:00</span>
                            </div>
                            <div class="notification-title">æ–°æ©Ÿèƒ½ã®ãŠçŸ¥ã‚‰ã›</div>
                            <div class="notification-text">ãƒ¯ã‚¤ãƒ³ç®¡ç†æ©Ÿèƒ½ãŒã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚åœ¨åº«ã®ä¸€æ‹¬ç™»éŒ²ã‚„è¤‡æ•°æ¡ä»¶ã§ã®æ¤œç´¢ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚è©³ã—ãã¯ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</div>
                        </div>
                    </div>
                    
                    <!-- ãƒ¯ã‚¤ãƒ³æƒ…å ±é€šçŸ¥ -->
                    <div class="notification-item" data-category="wine-info">
                        <div class="notification-icon">ğŸ·</div>
                        <div class="notification-content">
                            <div class="notification-header">
                                <span class="notification-category wine-info">ãƒ¯ã‚¤ãƒ³æƒ…å ±</span>
                                <span class="notification-time">2025/05/12 16:30</span>
                            </div>
                            <div class="notification-title">ãŠã™ã™ã‚ãƒ¯ã‚¤ãƒ³ãƒªã‚¹ãƒˆã®æ›´æ–°</div>
                            <div class="notification-text">å­£ç¯€ã«åˆã‚ã›ãŸãŠã™ã™ã‚ãƒ¯ã‚¤ãƒ³ãƒªã‚¹ãƒˆã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚åˆå¤ã«æ¥½ã—ã‚ã‚‹è»½ã‚„ã‹ãªèµ¤ãƒ¯ã‚¤ãƒ³ã‚„çˆ½ã‚„ã‹ãªç™½ãƒ¯ã‚¤ãƒ³ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚</div>
                        </div>
                    </div>
                </div>
                
                <div class="notifications-pagination">
                    <button class="btn btn-sm btn-light disabled">&laquo; å‰ã¸</button>
                    <div class="page-numbers">
                        <button class="btn btn-sm btn-primary">1</button>
                        <button class="btn btn-sm btn-light">2</button>
                        <button class="btn btn-sm btn-light">3</button>
                    </div>
                    <button class="btn btn-sm btn-light">æ¬¡ã¸ &raquo;</button>
                </div>
            </div>
        </div>
    </main>
    

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
            const filterButtons = document.querySelectorAll('.notification-filter');
            const notificationItems = document.querySelectorAll('.notification-item');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆ
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    
                    // é€šçŸ¥ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
                    notificationItems.forEach(item => {
                        if (filter === 'all' || item.getAttribute('data-category') === filter) {
                            item.style.display = '';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
            
            // ã™ã¹ã¦æ—¢èª­ã«ã™ã‚‹ãƒœã‚¿ãƒ³
            const markAllReadBtn = document.getElementById('mark-all-read');
            markAllReadBtn.addEventListener('click', function() {
                const unreadItems = document.querySelectorAll('.notification-item.unread');
                unreadItems.forEach(item => {
                    item.classList.remove('unread');
                });
                
                // ãƒãƒƒã‚¸ã‚«ã‚¦ãƒ³ãƒˆã‚’0ã«ã™ã‚‹ï¼ˆå®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯å¿…è¦ã«å¿œã˜ã¦ï¼‰
                // updateBadgeCount(0);
                
                alert('ã™ã¹ã¦ã®ãŠçŸ¥ã‚‰ã›ã‚’æ—¢èª­ã«ã—ã¾ã—ãŸ');
            });
            
            // é€šçŸ¥ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
            notificationItems.forEach(item => {
                item.addEventListener('click', function() {
                    // æœªèª­çŠ¶æ…‹ã‚’è§£é™¤
                    this.classList.remove('unread');
                    
                    // å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ã“ã“ã§é€šçŸ¥ã®è©³ç´°ã‚’è¡¨ç¤ºã—ãŸã‚Šã€
                    // ã‚µãƒ¼ãƒãƒ¼ã«æ—¢èª­çŠ¶æ…‹ã‚’é€ä¿¡ã—ãŸã‚Šã™ã‚‹å‡¦ç†ã‚’è¿½åŠ 
                    
                    // ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å ´åˆã¯ã‚¢ãƒ©ãƒ¼ãƒˆã§ä»£ç”¨
                    const title = this.querySelector('.notification-title').textContent;
                    alert(`ã€Œ${title}ã€ã‚’æ—¢èª­ã«ã—ã¾ã—ãŸ`);
                });
            });
            
            // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
            const paginationButtons = document.querySelectorAll('.notifications-pagination .btn:not(.disabled)');
            paginationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆå‡¦ç†ã‚’å®Ÿè£…
                    // ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§ã¯ä½•ã‚‚ã—ãªã„
                    if (!this.classList.contains('btn-primary')) {
                        alert('ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã¯ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§ã¯å‹•ä½œã—ã¾ã›ã‚“');
                    }
                });
            });
        });
    </script>
    
    <style>
        /* ãŠçŸ¥ã‚‰ã›ãƒšãƒ¼ã‚¸å°‚ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .notifications-container {
            background-color: var(--white);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-sm);
            margin-bottom: var(--spacing-xl);
            overflow: hidden;
        }
        
        .notifications-filters {
            display: flex;
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--medium-gray);
            overflow-x: auto;
            gap: var(--spacing-sm);
        }
        
        .notification-filter {
            padding: 6px 12px;
            border-radius: 20px;
            background-color: var(--light-gray);
            border: none;
            cursor: pointer;
            font-size: var(--font-size-sm);
            transition: background-color var(--transition-fast), color var(--transition-fast);
        }
        
        .notification-filter:hover {
            background-color: rgba(var(--primary-color-rgb), 0.1);
        }
        
        .notification-filter.active {
            background-color: var(--primary-color);
            color: var(--white);
        }
        
        .notifications-actions {
            padding: 0 var(--spacing-md) var(--spacing-md);
            display: flex;
            justify-content: flex-end;
        }
        
        .notifications-list {
            max-height: 600px;
            overflow-y: auto;
        }
        
        .notification-item {
            display: flex;
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--light-gray);
            transition: background-color var(--transition-fast);
            cursor: pointer;
        }
        
        .notification-item:last-child {
            border-bottom: none;
        }
        
        .notification-item:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        .notification-item.unread {
            background-color: rgba(var(--primary-color-rgb), 0.05);
        }
        
        .notification-item.unread:hover {
            background-color: rgba(var(--primary-color-rgb), 0.1);
        }
        
        .notification-icon {
            margin-right: var(--spacing-sm);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--light-gray);
            border-radius: 50%;
            flex-shrink: 0;
            font-size: var(--font-size-lg);
        }
        
        .notification-item.unread .notification-icon {
            background-color: rgba(var(--primary-color-rgb), 0.2);
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--dark-gray);
        }
        
        .notification-time {
            font-size: var(--font-size-xs);
            color: #6c757d;
        }
        
        .notification-text {
            font-size: var(--font-size-sm);
            color: var(--dark-gray);
        }
        
        .notification-category {
            display: inline-block;
            font-size: var(--font-size-xs);
            padding: 3px 8px;
            border-radius: 12px;
            background-color: var(--light-gray);
        }
        
        .notification-category.system {
            background-color: #e2f0fd;
            color: #0d6efd;
        }
        
        .notification-category.campaign {
            background-color: #fff3cd;
            color: #ffc107;
        }
        
        .notification-category.wine-info {
            background-color: #d1e7dd;
            color: #198754;
        }
        
        .notification-category.event {
            background-color: #f8d7da;
            color: #dc3545;
        }
        
        .notifications-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: var(--spacing-md);
            border-top: 1px solid var(--light-gray);
        }
        
        .page-numbers {
            display: flex;
            gap: 5px;
            margin: 0 var(--spacing-sm);
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .notification-icon {
                width: 32px;
                height: 32px;
                font-size: var(--font-size-md);
            }
            
            .notification-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .notification-time {
                margin-top: 2px;
            }
        }
    </style>
</body>
</html>