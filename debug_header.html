<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ヘッダーデバッグ | ワイサポ</title>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; margin: 0; background: #f9fafb;">
    
    <div style="padding: 2rem; max-width: 800px; margin: 0 auto;">
        <h1 style="color: #884591;">🔧 ヘッダーデバッグページ</h1>
        
        <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <h2>現在の状況</h2>
            <div id="debug-info" style="background: #f3f4f6; padding: 1rem; border-radius: 4px; font-family: monospace; font-size: 0.9rem;">
                読み込み中...
            </div>
        </div>
        
        <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <h2>ヘッダー表示テスト</h2>
            <p>上にヘッダーが表示されているかご確認ください。</p>
            <p>表示されていない場合は、ブラウザのコンソール（F12）を開いてエラーメッセージをご確認ください。</p>
        </div>
        
        <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <h2>対策手順</h2>
            <ol>
                <li><strong>Ctrl + F5</strong> でハードリロード</li>
                <li>ブラウザコンソール（F12）でエラー確認</li>
                <li>「✅ 新しいヘッダーが挿入されました (v3)」メッセージ確認</li>
                <li>パス情報の確認</li>
            </ol>
        </div>
        
        <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <h2>ナビゲーションテスト</h2>
            <p>ヘッダーが表示されている場合、以下のリンクが動作するかテストしてください：</p>
            <ul>
                <li>🏠 トップ（ダッシュボード）</li>
                <li>🍷 マイセラー</li>
                <li>📋 商品リスト</li>
                <li>📦 注文履歴</li>
            </ul>
        </div>
    </div>

    <script>
        // デバッグ情報表示
        function showDebugInfo() {
            const debugDiv = document.getElementById('debug-info');
            const info = {
                version: '20250608_v3_inline',
                pathname: window.location.pathname,
                hostname: window.location.hostname,
                userAgent: navigator.userAgent.substring(0, 50) + '...',
                timestamp: new Date().toLocaleString()
            };
            
            debugDiv.innerHTML = Object.entries(info)
                .map(([key, value]) => `${key}: ${value}`)
                .join('<br>');
        }
        
        // ページ読み込み完了後
        document.addEventListener('DOMContentLoaded', function() {
            showDebugInfo();
            console.log('🔧 デバッグページが読み込まれました');
            
            // 1秒後にヘッダーの存在確認
            setTimeout(() => {
                const header = document.querySelector('.main-header');
                if (header) {
                    console.log('✅ ヘッダーが見つかりました:', header);
                } else {
                    console.error('❌ ヘッダーが見つかりません');
                }
            }, 1000);
        });
        
        // CommonParts.js を読み込み
        const script = document.createElement('script');
        script.src = `js/common_parts.js?v=20250608_v3_inline`;
        script.defer = true;
        document.head.appendChild(script);
    </script>
</body>
</html>
