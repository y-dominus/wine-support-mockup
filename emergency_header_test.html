<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç·Šæ€¥ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ | ãƒ¯ã‚¤ã‚µãƒ</title>
    <style>
        body { 
            margin: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .status {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        .success {
            background: #f0fdf4;
            color: #065f46;
            border: 1px solid #10b981;
        }
        .error {
            background: #fef2f2;
            color: #7f1d1d;
            border: 1px solid #ef4444;
        }
        .loading {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #f59e0b;
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ã“ã“ã«å‹•çš„ç”Ÿæˆã•ã‚Œã‚‹ -->
    
    <main class="test-container">
        <h1>ğŸš¨ ç·Šæ€¥ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ</h1>
        
        <div id="status" class="status loading">
            ğŸ”„ ãƒ˜ãƒƒãƒ€ãƒ¼èª­ã¿è¾¼ã¿ä¸­...
        </div>
        
        <div id="details"></div>
        
        <h2>ãƒ†ã‚¹ãƒˆé …ç›®</h2>
        <ul>
            <li>ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
            <li>ãƒ­ã‚´ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
            <li>ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚´ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹</li>
            <li>ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹</li>
        </ul>
        
        <h2>ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯</h2>
        <p><a href="html/dashboard.html">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a></p>
        <p><a href="html/my_cellar/my_cellar.html">ãƒã‚¤ã‚»ãƒ©ãƒ¼</a></p>
        <p><a href="html/products/product_list.html">å•†å“ä¸€è¦§</a></p>
    </main>

    <script>
        console.log('ğŸš¨ ç·Šæ€¥ãƒ†ã‚¹ãƒˆé–‹å§‹');
        
        const statusEl = document.getElementById('status');
        const detailsEl = document.getElementById('details');
        
        // ãƒ˜ãƒƒãƒ€ãƒ¼èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ
        function testHeader() {
            console.log('ğŸ§ª ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆé–‹å§‹');
            
            const script = document.createElement('script');
            script.src = `js/common_parts.js?v=${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; // å¼·åŠ›ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚¿ãƒ¼
            
            script.onload = function() {
                console.log('âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿æˆåŠŸ');
                
                setTimeout(() => {
                    checkHeader();
                }, 1000);
            };
            
            script.onerror = function() {
                console.error('âŒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿å¤±æ•—');
                statusEl.className = 'status error';
                statusEl.innerHTML = 'âŒ common_parts.js ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ';
                detailsEl.innerHTML = '<p>ãƒ‘ã‚¹: js/common_parts.js</p><p>ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„</p>';
            };
            
            document.head.appendChild(script);
        }
        
        function checkHeader() {
            console.log('ğŸ” ãƒ˜ãƒƒãƒ€ãƒ¼ãƒã‚§ãƒƒã‚¯');
            
            const header = document.querySelector('.main-header');
            const logo = document.querySelector('.logo-section img');
            const textLogo = document.querySelector('.logo-text');
            const nav = document.querySelector('.main-nav');
            
            let results = [];
            let allGood = true;
            
            if (header) {
                results.push('âœ… ãƒ˜ãƒƒãƒ€ãƒ¼è¦ç´ ãŒå­˜åœ¨');
            } else {
                results.push('âŒ ãƒ˜ãƒƒãƒ€ãƒ¼è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„');
                allGood = false;
            }
            
            if (logo) {
                results.push('âœ… ãƒ­ã‚´ç”»åƒãŒå­˜åœ¨');
            } else {
                results.push('âŒ ãƒ­ã‚´ç”»åƒãŒè¦‹ã¤ã‹ã‚‰ãªã„');
                allGood = false;
            }
            
            if (!textLogo) {
                results.push('âœ… ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚´ãŒæ­£ã—ãå‰Šé™¤æ¸ˆã¿');
            } else {
                results.push('âŒ ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚´ãŒã¾ã å­˜åœ¨');
                allGood = false;
            }
            
            if (nav) {
                results.push('âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨');
            } else {
                results.push('âŒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„');
                allGood = false;
            }
            
            if (allGood) {
                statusEl.className = 'status success';
                statusEl.innerHTML = 'âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆæˆåŠŸï¼';
            } else {
                statusEl.className = 'status error';
                statusEl.innerHTML = 'âŒ ãƒ˜ãƒƒãƒ€ãƒ¼ã«å•é¡ŒãŒã‚ã‚Šã¾ã™';
            }
            
            detailsEl.innerHTML = '<ul>' + results.map(r => `<li>${r}</li>`).join('') + '</ul>';
        }
        
        // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', testHeader);
        } else {
            testHeader();
        }
    </script>
</body>
</html>