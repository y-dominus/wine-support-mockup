<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>キャッシュクリア | ワイサポ</title>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 2rem; max-width: 600px; margin: 0 auto;">
    <h1>🔄 キャッシュクリアツール</h1>
    <p>古いヘッダーが表示される場合は、以下のボタンをクリックしてください。</p>
    
    <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
        <h3>手動対策:</h3>
        <ol>
            <li><strong>Ctrl + F5</strong> (Windows) または <strong>Cmd + Shift + R</strong> (Mac) でハードリロード</li>
            <li>ブラウザの開発者ツールを開いて「Application」→「Storage」→「Clear storage」</li>
            <li>シークレット/プライベートモードで開く</li>
        </ol>
    </div>
    
    <button onclick="clearCacheAndReload()" style="background: #884591; color: white; border: none; padding: 1rem 2rem; border-radius: 6px; font-size: 1rem; cursor: pointer; margin: 1rem 0;">
        キャッシュクリアして再読み込み
    </button>
    
    <div style="margin-top: 2rem;">
        <a href="html/dashboard.html" style="display: inline-block; background: #10b981; color: white; text-decoration: none; padding: 0.75rem 1.5rem; border-radius: 6px; margin-right: 1rem;">ダッシュボードへ</a>
        <a href="test_header.html" style="display: inline-block; background: #3b82f6; color: white; text-decoration: none; padding: 0.75rem 1.5rem; border-radius: 6px;">ヘッダーテストへ</a>
    </div>

    <script>
        function clearCacheAndReload() {
            // ローカルストレージクリア
            localStorage.clear();
            sessionStorage.clear();
            
            // サービスワーカーがあれば削除
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
            }
            
            // 強制リロード
            window.location.reload(true);
        }
        
        // ページ読み込み時にコンソールメッセージ
        console.log('🔄 キャッシュクリアツールが読み込まれました');
        console.log('ヘッダーの問題がある場合は、Ctrl+F5 でハードリロードしてください');
    </script>
</body>
</html>
